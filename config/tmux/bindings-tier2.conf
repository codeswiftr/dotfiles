# ============================================================================
# Tmux Intermediate Key Bindings (Tier 2)
# Additional productivity shortcuts for regular tmux users
# ============================================================================

# ----- Advanced Pane Control -----
bind z resize-pane -Z \; display "Pane zoomed/unzoomed"
bind Space next-layout \; display "Layout: #{layout_name}"
bind ! break-pane \; display "Pane moved to new window"

# Pane resizing (hold Ctrl-a and press repeatedly)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5  
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# ----- Window Navigation -----
bind Tab last-window \; display "Switched to last window"
bind -r C-h previous-window
bind -r C-l next-window

# ----- Copy Mode & Selection -----
bind [ copy-mode \; display "Copy mode: use v to select, y to copy"
bind ] paste-buffer \; display "Pasted from clipboard"

# Better copy mode bindings
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi V send-keys -X select-line
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# ----- Development Shortcuts -----
bind g split-window -v -p 30 -c "#{pane_current_path}" "git status; echo 'Git status - press Enter to continue...'; read" \; display "Git status pane"
bind t split-window -h -p 40 -c "#{pane_current_path}" \; display "Terminal pane"
bind e new-window -n "config" "$EDITOR ~/.tmux.conf" \; display "Editing tmux config"

# ----- Session Enhancements -----
bind S new-session \; display "New session created"
bind C-s command-prompt -p "Switch to session:" "switch-client -t %%"
bind w choose-window \; display "Window picker"

# ----- Quick Actions -----
bind . command-prompt -p "Move window to position:" "move-window -t %%"
bind , command-prompt -I "#W" "rename-window -- '%%'"
bind R refresh-client \; display "Client refreshed"

# ----- Help for Tier 2 -----
bind C-h new-window -n "HELP-T2" 'cat << "EOF"

ðŸš€ TMUX INTERMEDIATE COMMANDS (Tier 2)

ADVANCED PANE CONTROL:
  Ctrl-a z         Zoom/unzoom pane
  Ctrl-a Space     Cycle layouts
  Ctrl-a !         Break pane to new window
  Ctrl-a H/J/K/L   Resize panes (repeatable)

WINDOW NAVIGATION:
  Ctrl-a Tab       Last window
  Ctrl-a Ctrl-h    Previous window
  Ctrl-a Ctrl-l    Next window
  Ctrl-a w         Window picker
  Ctrl-a ,         Rename window
  Ctrl-a .         Move window

COPY & PASTE:
  Ctrl-a [         Copy mode
  v                Begin selection
  V                Select line
  Ctrl-v           Rectangle selection
  y                Copy and exit
  Ctrl-a ]         Paste

DEVELOPMENT:
  Ctrl-a g         Git status pane
  Ctrl-a t         New terminal pane
  Ctrl-a e         Edit tmux config

SESSIONS:
  Ctrl-a S         New session
  Ctrl-a Ctrl-s    Switch session by name
  Ctrl-a R         Refresh client

READY FOR MORE?
  Enable Tier 3 bindings for project workflows:
  echo "source-file \$DOTFILES_DIR/config/tmux/bindings-tier3.conf" >> ~/.tmux.conf

Press q to close this help.

EOF
read'